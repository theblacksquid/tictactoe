(function(){var t,n,r,e,i,o,s,c,l,u,a,h,p,d,f,w,m;u=function(t){return t[0]},a=function(t){return t[1]},w=function(t,n){switch(!1){case a(t)-a(n)!==0:return"VERTICAL";case u(t)-u(n)!==0:return"HORIZONTAL";default:return(a(t)-a(n))/(u(t)-u(n))}},h=function(t,n,r){var e,i,o,s,c,l;switch(c=t.length,e=[],i=r,!1){case"HORIZONTAL"!==n:return t[r];case"VERTICAL"!==n:for(o=0,s=t.length;o<s;o++)l=t[o],e.push(l[r]);return e;case"DIAGONAL"!==n:for(;c>i;)e.push(t[i][i]),i++;return e;case"ANTI-DIAG"!==n:for(;c>i;)e.push(t[i][c-1-i]),i++;return e}},f=function(t){var n;for(n=0;t.length>n;){if(t[n]!==t[0])return!1;n++}return!0},s=function(t){return[].concat.apply([],t)},i=function(t,n){var r,e,i,o,s,c,l,u,a;for(s=0;n.length>s;){for(o=h(n,"HORIZONTAL",s),a=h(n,"VERTICAL",s),i=h(n,"DIAGONAL",0),r=h(n,"ANTI-DIAG",0),e=[o,a,i,r],l=0,u=e.length;l<u;l++)if(c=e[l],f(c)===!0&&c[0]===t)return!0;s++}return!1},o=function(t,n,r){var e,o;return o=s(t).filter(function(t){if("unclaimed"!==t)return!0}),e=s(t).length,i(n,t)?n+" wins":i(r,t)?r+" wins":o.length===e?"DRAW":"CONTINUE"},l=function(t){var n,r,e,i,o,s,c,l,u,a;for(u=t.rows,a=[],e=0,o=u.length;e<o;e++){for(l=u[e],n=[],c=l.cells,i=0,s=c.length;i<s;i++)r=c[i],n.push(r.status);a.push(n)}return a},c={},c.state=[],c.turns=1,c.over=function(t){var n,r,e,i,o,s,l,u;for(s=t.rows,r=0,i=s.length;r<i;r++)for(u=s[r],l=u.cells,e=0,o=l.length;e<o;e++)n=l[e],$("#cell-"+n.row+"-"+n.col+"-img").off();return c.turns=1},c.main=function(t,r){var e,i,s,u,a,h,d,f,w,m;for(m=this.turns,w=this.state,i=new n(t,r),i.render(),s="CONTINUE",h=i.rows,d=[],u=0,a=h.length;u<a;u++)f=h[u],d.push(function(){var t,n,r,s;for(r=f.cells,s=[],t=0,n=r.length;t<n;t++)e=r[t],s.push($("#cell-"+e.row+"-"+e.col+"-img").click(function(){var t;if(w=l(i),t=o(w,"X","O"),console.log(t),"CONTINUE"!==t)return c.over(i),$("#status").html("Tic Tac Toe | "+t),p.onStart()}));return s}());return d},d="icons/ic_block_black_24dp/web/ic_block_black_24dp_2x.png",m="icons/ic_clear_black_24dp/web/ic_clear_black_24dp_2x.png",t=function(){function t(t,n,r){this.el=t,this.col=n,this.row=r,this.status="unclaimed",this.id="cell-"+this.row+"-"+this.col}return t.prototype.template=function(){return"        <div class='cell' id='cell-"+this.row+"-"+this.col+"' style='display: inline-block'>\n\t<img id='cell-"+this.row+"-"+this.col+"-img' src='icons/ic_crop_din_black_24dp/web/ic_crop_din_black_24dp_2x.png' />\n</div>"},t.prototype.render=function(){return $(this.el).append(this.template()),this.onClick()},t.prototype.onClick=function(){var t;return t=this,$("#cell-"+this.row+"-"+this.col+"-img").click(function(){return"unclaimed"===t.status?c.turns%2===0?(t.status="O",$("#cell-"+t.row+"-"+t.col+"-img").attr("src",d),c.turns++):(t.status="X",$("#cell-"+t.row+"-"+t.col+"-img").attr("src",m),c.turns++):console.log("claimed cell clicked")})},t}(),r=function(){function n(t,n,r){this.el=t,this.rownum=n,this.numcells=r,this.cells=[],this.id="row-"+this.rownum}return n.prototype.template=function(){return"<div id='row-"+this.rownum+"'>\n</div>"},n.prototype.render=function(){return $(this.el).append(this.template()),this.generateCells(this.numcells)},n.prototype.generateCells=function(n){var r,e,i;for(e=0,i=[];n>e;)r=new t("#row-"+this.rownum,this.rownum,e),this.cells.push(r),r.render(),i.push(e++);return i},n}(),n=function(){function t(t,n){this.el=t,this.numrows=n,this.rows=[]}return t.prototype.template=function(){return"<div id='game-grid'>\n</div>"},t.prototype.render=function(){return $(this.el).html(this.template()),this.generateRows(this.numrows)},t.prototype.generateRows=function(t){var n,e,i;for(n=0,e=[];t>n;)i=new r("#game-grid",n,t),this.rows.push(i),i.render(),e.push(n++);return e},t}(),e=function(){function t(t){this.el=t}return t.prototype.template=function(){return"<div class='w3-container'>\n\t<div class='w3-container w3-black'>\n\t\t<h2 id='status'>Tic Tac Toe |<br /> \n\t</div>\n\t<div='w3-container w3-black'>\n\t\t<img src='"+m+"' /> \n\t\t<img src='"+d+"'></h2>\n\t</div>\n\t<div class='w3-row'>\n\t\t<div id='leftmenu' class='w3-container w3-third'>\n\t\t\t<div>\n\t\t\t\t<input id='menu-val' type='text' placeholder='Number of Rows' class='w3-input w3-border w3-hover-light-grey'/> <br />\n\t\t\t\t<button id='menu-btn' class='w3-btn-block'>START</button> \n\t\t\t\t<br />\n\t\t\t\t<p>Indicate the number of rows you want the\n\t\t\t\tgame's grid to have, and it will create\n\t\t\t\ta grid that has that number of rows squared\n\t\t\t\tamount of cells. A minimum of 3 is required.</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id='game' class='w3-container w3-rest w3-center'>\n\t\t</div>\n\t</div>\n</div>"},t.prototype.render=function(){return $(this.el).append(this.template()),this.onStart()},t.prototype.onStart=function(){return $("#menu-btn").click(function(){return $("#menu-val").val()<3?$("#status").html("Tic Tac Toe | A minimum of three rows are required"):(c.main("#game",$("#menu-val").val()),$("#status").html("Tic Tac Toe |"),$("#menu-btn").off("click"))})},t}(),p=new e("#app"),p.render()}).call(this);
